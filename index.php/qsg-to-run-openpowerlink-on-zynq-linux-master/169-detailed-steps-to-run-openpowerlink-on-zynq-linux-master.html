<!DOCTYPE html><!-- Amazing Template Framework 1.2.0 pro -->
<html lang="en-gb" dir="ltr" >
	
<!-- Mirrored from www.kalycito.com/index.php/qsg-to-run-openpowerlink-on-zynq-linux-master/169-detailed-steps-to-run-openpowerlink-on-zynq-linux-master by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 14 Jun 2017 05:25:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<script>window.dataLayer = window.dataLayer || [];</script>
		<link href="https://fonts.googleapis.com/css?family=" rel="stylesheet" type="text/css">  <base  />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="keywords" content="QSG to run openPOWERLINK on Zynq" />
  <meta name="description" content="QSG to run openPOWERLINK on Zynq" />
  <title>Detailed Steps to run openPOWERLINK on Zynq Linux Master</title>
  <link href="../../templates/at_nine_flat/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon" />
  <link rel="stylesheet" href="../../templates/at_nine_flat/core/controllers/gzip72dd.css?L2hvbWUva2FseWNpdG9pbmZvdGVjaC9wdWJsaWNfaHRtbC9jYWNoZS9hdF9uaW5lX2ZsYXQvdGVtcGxhdGUuY3Nz" type="text/css" media="" />
  <link rel="stylesheet" href="../../modules/mod_at_social_links/assets/css/at.social.css" type="text/css" />
  <link rel="stylesheet" href="../../modules/mod_at_social_links/assets/css/enews-effect-1/enews-effect-1.css" type="text/css" />
  <script src="../../templates/at_nine_flat/core/controllers/gzipc001.js?L2hvbWUva2FseWNpdG9pbmZvdGVjaC9wdWJsaWNfaHRtbC9jYWNoZS9hdF9uaW5lX2ZsYXQvdGVtcGxhdGUuanM=" type="text/javascript"></script>
  <script src="../../templates/at_nine_flat/html/mod_menu/assets/js/avatar_menu_custom.js" type="text/javascript"></script>
  <script type="text/javascript">
jQuery(window).on('load',  function() {
				new JCaption('img.caption');
			});
  </script>
<link rel="stylesheet" href="../../templates/at_nine_flat/showcases/green/css/color.css" type="text/css"/><meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
<script type='text/javascript'>

			jQuery.noConflict();

			(function($){

				$(document).ready(function()

				{

					if ($('body').hasClass('avatar-responsive'))

					{

						var mainMenu = $('.at-main-menu > ul');

						var mainMenWrap = $ ('.at-main-menu');

						

						mainMenWrap.find('span.menu-pull').click(function(event){

							$(this.getParent()).find('ul:first').slideToggle();

						});

						

						mainMenu.find('li > span.pull').click(function(event){

							$(this.getParent()).find('ul:first').slideToggle();

						});

						

						$(window).resize(function(){

							if($(window).width() > 767) {

								mainMenu.find('ul').removeAttr('style');

							}

						});

						function at_responsive_transfer(){				

							var at_default_width = 1000;

							if($(window).width() < at_default_width){

								$('.block-default-width').addClass('block-max-width-100');

								$('.block-default-width').addClass('block-default-width-tmp');

								$('.block-default-width-tmp').removeClass('block-default-width');

							}

							else{

								$('.block-default-width-tmp').removeClass('block-max-width-100');

								$('.block-default-width-tmp').addClass('block-default-width');

								$('.block-default-width').removeClass('block-default-width-tmp');

							}			

						}		    

						at_responsive_transfer();			

						$(window).resize(function(e){		    	

							at_responsive_transfer();		    

						});

					}

				});

			})(jQuery)

		</script>

			<script type='text/javascript'>

			jQuery.noConflict();

			(function($){

				$(document).ready(function() {

					var goToTop = $('#avatar-go-to-top');

					goToTop.hide();

					

					// fade in #back-top

					$(function () {

						$(window).scroll(function () {

							if ($(this).scrollTop() > 100) {

								goToTop.fadeIn();

							} else {

								goToTop.fadeOut();

							}

						});

				

						// scroll body to 0px on click

						goToTop.click(function () {

							$('body,html').animate({

								scrollTop: 0

							}, 800);

							return false;

						});

					});

				});

			})(jQuery)

			</script>

		

	 		<script type='text/javascript'>

				jQuery.noConflict();

				(function($){

					$(document).ready(function()

					{

						avatarTemplate.template.name = "at_nine_flat" 

						avatarTemplate.image.initEffects();

						avatarTemplate.layout.init();

						avatarTemplate.settingPanel.init();

					});

				})(jQuery)

			</script>

	 	<style type="text/css">
body { background-image: url(../../templates/at_nine_flat/backgrounds/white.png);}
a:link, a:visited { color:#333333;}
a:hover { color: #ab3a3a;}
body{ font-family: Tahoma, Geneva, sans-serif;}
.at-main-menu *{ font-family: Tahoma, Geneva, sans-serif;}
h1{font-family: Tahoma;}
h2{font-family: Tahoma;}
h3{font-family: Tahoma;}
h4{font-family: Tahoma;}
h5{font-family: Tahoma;}
h6{font-family: Tahoma;}
</style>		<style type="text/css">
			.avatar-wrapper{
				width: 1000px;
				margin: auto;
			}
			
			#avatar-pos-top-left {
				width: 22%;
			}
			#avatar-pos-top-middle {
				width: 68%;
			}
			#avatar-pos-top-right {
				width: 10%;
			}
			
			#avatar-pos-footer-left {
				width: 70%;
			}
			#avatar-pos-footer-middle {
				width: 10%;
			}
			#avatar-pos-footer-right {
				width: 20%;
			}
			
			#avatar-pos-promo-top-left {
				width: 50%;
			}
			#avatar-pos-promo-top-middle {
				width: 100%;
			}
			#avatar-pos-promo-top-right {
				width: 50%;
			}
			
			#avatar-pos-promo-bottom-left {
				width: 50%;
			}
			#avatar-pos-promo-bottom-middle {
				width: 100%;
			}
			#avatar-pos-promo-bottom-right {
				width: 50%;
			}
			
			#avatar-left {
				width: 23%;
			}
			#avatar-right {
				width: 23%;
			}
			#avatar-content {
				width: 100%;
			}
			#avatar-pos-inner-left {
				width: 23%;
			}
			#avatar-pos-inner-right {
				width: 23%;
			}
			
			#avatar-main-content{
				width: 100%;
			}
					</style>
		
		<script type="text/javascript">

				  var _gaq = _gaq || [];

				  _gaq.push(["_setAccount", "UA-65838489-1"]);

				  _gaq.push(["_trackPageview"]);



				  (function() {

					var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;

					ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";

					var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);

				  })();



				</script>	




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-37351440-1', 'auto');
  ga('send', 'pageview');

</script>

<!-- Universal Google Analytics Plugin by PB Web Development -->




<!-- BEGIN Advanced Google Analytics - http://deconf.com/advanced-google-analytics-joomla/ -->
<script type="text/javascript">
(function($){
    $(window).load(function() {
            $('a').filter(function() {
				return this.href.match(/.*\.(zip|mp3*|mpe*g|pdf|docx*|pptx*|xlsx*|jpe*g|png|gif|tiff|rar*)(\?.*)?$/);
            }).click(function(e) {
                ga('send','event', 'download', 'click', this.href);
            });
            $('a[href^="mailto"]').click(function(e) {
                ga('send','event', 'email', 'send', this.href);
             });
            var loc = location.host.split('.');
            while (loc.length > 2) { loc.shift(); }
            loc = loc.join('.');
            var localURLs = [
                              loc,
                              'www.kalycito.com'
                            ];
            $('a[href^="http"]').filter(function() {
			if (!this.href.match(/.*\.(zip|mp3*|mpe*g|pdf|docx*|pptx*|xlsx*|jpe*g|png|gif|tiff|rar*)(\?.*)?$/)){
				for (var i = 0; i < localURLs.length; i++) {
					if (this.href.indexOf(localURLs[i]) == -1) return this.href;
				}
			}
            }).click(function(e) {
                ga('send','event', 'outbound', 'click', this.href);
            });
    });
})(jQuery);
</script>
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37351440-1', 'auto');  
  
ga('require', 'displayfeatures');
ga('set', 'anonymizeIp', true);
ga('set', 'dimension1', 'jenifer');
ga('set', 'dimension2', 'openPOWERLINK on Zynq Linux Master');
ga('set', 'dimension3', '2016');
ga('set', 'dimension4', 'guest');
ga('send', 'pageview');
</script>
<!-- END Advanced Google Analytics -->


</head>
	<body id="avatar-template" class="avatar-responsive">
<!-- Google Tag Manager V0.0.10 from Tools for Joomla -->
<noscript><iframe src='http://www.googletagmanager.com/ns.html?id=GTM-K68WVX'
height='0' width='0' style='display:none;visibility:hidden'></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'../../../www.googletagmanager.com/gtm5445.html?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K68WVX');</script>
<!-- End Google Tag Manager -->
		<div id="top"></div>
						<div class="clearfix">
							<a id="avatar-go-to-top" href="#top">
					<span>Back to top </span>
				</a>
									
						
						
						
						
															
						
							<div id="avatar-header-inside-block">
					<div class="avatar-wrapper block-default-width">
											<div id="avatar-pos-top-left">
									<div class="avatar-module avatar-logo no-padding-margin">
					<div class="avatar-module-content">
				

<div class="custom"  >
	<p style="margin-left: 40px;"><img src="../../images/logo-kalycito-rnd-partner.png" alt="Kalycito - Your R&amp;D Partner!" /></p></div>
			</div>
		</div>
	
						</div>
										
											<div id="avatar-pos-top-middle">
									<div class="avatar-module no-padding-margin">
					<div class="avatar-module-content">
				<div class="avatar-nav-responsive avatar-menu at-main-menu">
<span class="avatar-main-menu-slider"></span>
<span class="menu-pull"></span>
<ul class="at-menu-horizontal menu clearfix avatar-main-menu">
<li class="item-101"><a href="../../index.html" >Home</a></li><li class="item-106"><a href="../about-us.html" >About us</a></li><li class="item-107"><a href="../services.html" >Services</a></li><li class="item-108"><a href="../solution.html" >Solutions</a></li><li class="item-110"><a href="../resources.html" >Resources</a></li><li class="item-113"><a href="../career.html" >Careers</a></li><li class="item-114"><a href="../contact.html" >Contact</a></li></ul></div>			</div>
		</div>
	
						</div>
										
											<div id="avatar-pos-top-right">
									<div class="avatar-module avatar-top-social">
					<div class="avatar-module-content">
				
<div class="at-social-links">

<div class="at-social-enews-effect-1">
<ul class="at-social-list">

	<li class="at-social-item" style="height: 30px;width: 30px;">
		<a href="https://www.linkedin.com/company/kalycito" target="_blank"><div style="height: 20px;width: 20px;background-image: url('../../images/at_social_icons/linkedin.png')"></div></a>
	</li>	

	<li class="at-social-item" style="height: 30px;width: 30px;">
		<a href="https://www.facebook.com/Kalycito" target="_blank"><div style="height: 20px;width: 20px;background-image: url('../../images/at_social_icons/facebook.png')"></div></a>
	</li>	

<li class="clearbreak"></li>
</ul>
</div>
</div>			</div>
		</div>
	
						</div>
										<div class="clearbreak"></div>
					</div>
				</div>
						
			<div id="avatar-tool-block">
				<div class="avatar-wrapper block-max-width-100">
														<div class="avatar-module avatar-separate-module">
					<div class="avatar-module-content">
				

<div class="custom"  >
	</div>
			</div>
		</div>
	
									</div>
			</div>
			
								
									
			<div id="avatar-body-middle-block" class=" ">
				<div class="avatar-wrapper block-default-width">
				<div class="inner">
								
				<div id="avatar-content">
					<div class="inner">
												
						<div id="avatar-main-content">
							<div id="avatar-main-content-inner">
														
															<div id="avatar-pos-message">
									<div id="system-message-container">
	</div>

								</div>	
														
														
														
														
														
															<div id="avatar-pos-main-body">
																			<div class="item-page">
								
		 
	
		 
		
	
			<div class="avatar-article-img-date-intro">
						</div>
		<div class="clr"></div>
		
	

		
						
			<div class="avatar-article-fulltext">
	<h1 class="avatar-char-color">Detailed Steps to run openPOWERLINK on Zynq Linux Master</h1>
<p> </p>
<p class="para-text">Following section provides the steps on:</p>
<ul class="the-plus">
<li class="para-text">How to build your own openPOWERLINK Zynq Linux master?</li>
<li class="para-text">How to convert your X86 Linux PC into a simple openPOWERLINK slave device?</li>
<li class="para-text">How to test POWERLINK operation with the openPOWERLINK master and slave?</li>
</ul>
<p> </p>
<div id="accordion2" class="accordion at-accordion-1">
<div class="accordion-group">
<h1 class="accordion-heading"><span class="avatar-char-color" style="font-size: 20px;"><a class="accordion-toggle" href="#collapseOne" data-toggle="collapse" data-parent="#accordion2">1. Hardware requirements</a></span></h1>
<div id="collapseOne" class="accordion-body collapse">
<div class="accordion-inner">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">The hardware items required to run openPOWERLINK Linux MN demo on Zynq ZC702 are as follows:</p>
<ul class="the-plus" style="text-align: justify;">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">1 Zynq ZC702 board to act as the openPOWERLINK Master</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">1 Linux development PC</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">2 Linux PC to act as the openPOWERLINK Slave</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">1 Micro SD Card Reader</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">1 Micro SD Card</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">4 Ethernet Cables</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">1 Network switch</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">1 Mini USB serial cable</p>
</li>
</ul>
</div>
</div>
</div>
<div class="accordion-group">
<h1 class="accordion-heading"><span class="avatar-char-color" style="font-size: 20px;"><a class="accordion-toggle" href="#collapseTwo" data-toggle="collapse" data-parent="#accordion2">2. Software requirements</a></span></h1>
<div id="collapseTwo" class="accordion-body collapse">
<div class="accordion-inner">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Following are the software packages and its dependencies to be downloaded to run openPOWERLINK Linux Master demo on Zynq ZC702.</p>
<ul class="the-plus" style="text-align: justify;">
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Ubuntu 12.04/14.04</p>
</li>
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Xilinx ISE v14.7 - <a title="Xilinx_ISE_DS_14.7" href="https://survey.xilinx.com/ss/wsb.dll/Xilinx/ISE_Download_Survey.htm?wsb5=14.7&amp;%20wsb6=1&amp;wsb7=Xilinx_ISE_DS_14.7_1015_1-1.tar" target="_blank"><strong>click here</strong></a></p>
</li>
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">CMake v2.8.7 or higher version - <a title="Download CMake" href="https://cmake.org/download/" target="_blank"><strong>click here</strong></a></p>
</li>
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Xilinx Linux - <a title="Xlinix Linux" href="https://github.com/Xilinx/linux-xlnx" target="_blank"><strong>click here</strong></a></p>
</li>
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">openPOWERLINK stack - <a title="openPOWERLINK stack" href="http://sourceforge.net/projects/openpowerlink/files/openPOWERLINK/V2.3.0/openPOWERLINK_V2.3.0.tar.gz/download" target="_blank"><strong>click here</strong></a></p>
</li>
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">libncurses5-dev (NOTE: Used with Linux menuconfig)</p>
<ul class="the-plus">
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">sudo apt-get install libncurses5-dev</p>
</li>
</ul>
</li>
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">uboot-mkimage (Note: To create uimage without any issue install uboot-mkimage)</p>
</li>
<ul class="the-plus">
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">sudo apt-get install uboot-mkimage on Ubuntu</p>
</li>
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">sudo apt-get install u-boot-tools on Lubuntu</p>
</li>
</ul>
</ul>
</div>
</div>
</div>
<div class="accordion-group">
<h1 class="accordion-heading"><span class="avatar-char-color" style="font-size: 20px;"><a class="accordion-toggle" href="#collapseThree" data-toggle="collapse" data-parent="#accordion2">3. Environment setup on the Linux PC</a></span></h1>
<div id="collapseThree" class="accordion-body collapse">
<div class="accordion-inner">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">This section describes the steps to be carried out to install Xilinx ISE v14.7 and to download the Xilinx Linux repository.</p>
<ul class="the-plus" style="text-align: justify;">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Installing Xilinx ISE v14.7</p>
</li>
<ul class="the-plus" style="text-align: justify;">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Download Xilinx ISE v14.7 from <a title="Xilinx ISE v14.7" href="https://survey.xilinx.com/ss/wsb.dll/Xilinx/ISE_Download_Survey.htm?wsb5=14.7&amp;%20wsb6=1&amp;wsb7=Xilinx_ISE_DS_14.7_1015_1-1.tar" target="_blank"><strong>here</strong></a> or use the Xilinx installation DVD to install the Xilinx ISE v14.7 software</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">While installing the Xilinx ISE v14.7 in Ubuntu 12.04/14.04, the following message may be displayed “The cable driver installation failed” as shown below,</p>
</li>
</ul>
</ul>
<p style="text-align: center;"><img src="../../images/oplk_zynq/Error_Message_cable_driver_installation.png" alt="Xilinx S/W setup - driver installation failed" width="503" height="130" /></p>
<p style="text-align: center;"><strong>Error message for cable driver installation</strong></p>
<ul class="the-plus" style="text-align: justify;">
<ul class="the-plus" style="text-align: justify;">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Click ok to continue the installation and finish it</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To install cable driver refer <a title="Installation Guide" href="http://www.georgesmart.co.uk/wiki/Xilinx_JTAG_Linux" target="_blank"><strong>here</strong></a></p>
</li>
</ul>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Clone the Xilinx Linux repository from <a title="Clone Xilinx Linux reporsitory" href="https://github.com/Xilinx/linux-xlnx" target="_blank"><strong>here</strong></a></p>
</li>
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">After cloning, the required branch based on the used toolchain version needs to be checked out. Use following command to check out the required branch</p>
</li>
<ul class="the-plus" style="text-align: justify;">
<li style="text-align: justify;">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">git checkout -b zynq-build xilinx-v14.7</p>
</li>
</ul>
</ul>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"><strong>NOTE:</strong> This toolchain used across this document is Xilinx ISE 14.7 and Xilinx Linux branch used is xilinx-v14.7</p>
</div>
</div>
</div>
<div class="accordion-group">
<h1 class="accordion-heading"><span class="avatar-char-color" style="font-size: 20px;"><a class="accordion-toggle" href="#collapseFour" data-toggle="collapse" data-parent="#accordion2">4. Compile Linux kernel source for Zynq ZC702</a></span></h1>
<div id="collapseFour" class="accordion-body collapse">
<div class="accordion-inner">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">This section describes the steps to be carried out on the Linux PC to compile Linux kernel source for Zynq ZC702 in order to create kernel image file.</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Export the cross compilation environment variables using following command:</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">export CROSS_COMPILE=arm-xilinx-linux-gnueabi</p>
</li>
</ul>
</li>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/compile_Linux_kernel/Exporting_Environment_Variable.png" alt="Export environment variable" width="724" height="116" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Configure the Linux kernel parameters using the default Zynq configuration file</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make ARCH=arm xilinx_zynq_defconfig</p>
</li>
</ul>
</li>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/compile_Linux_kernel/Config_the_ARM.png" alt="" width="725" height="134" /> </strong></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Reconfigure the default settings as per requirement</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make ARCH=arm menuconfig</p>
</li>
</ul>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Major settings which should be changed for executing openPOWERLINK Linux demo are:</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">In Device Drivers/Network Device Support/Ethernet driver support</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Set the Zynq Ethernet driver to be compiled as modules</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Enable all the Xilinx devices by pressing (Space key)</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">It will be enabled as [M]</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Exit and save the configuration</p>
</li>
</ul>
</ul>
</li>
</ul>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Configure the changes as shown</p>
</li>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/compile_Linux_kernel/KERNEL.jpg" alt="" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Now compile the kernel using the following commands</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">sudo make ARCH=arm CROSS_COMPILE=/opt/Xilinx/14.7/ISE_DS/EDK/gnu/arm/lin/bin/arm-xilinx-linux-gnueabi-</p>
</li>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/compile_Linux_kernel/To_compile_kernel.png" alt="" width="722" height="427" /></strong></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To create uImage file:</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make ARCH=arm UIMAGE_LOADADDR=0x8000 uImage CROSS_COMPILE=/opt/Xilinx/14.7/ISE_DS/EDK/gnu/arm/lin/bin/arm-xilinx-linux-gnueabi-</p>
</li>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/compile_Linux_kernel/uimage.jpg" alt="" /></strong></p>
<p style="text-align: justify;"> </p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Compile and install the modules for kernel using following commands</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Compile modules:</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make ARCH=arm CROSS_COMPILE=/opt/Xilinx/14.7/ISE_DS/EDK/gnu/arm/lin/bin/arm-xilinx-linux-gnueabi-modules</p>
</li>
</ul>
</ul>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Install modules:</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">sudo make ARCH=arm CROSS_COMPILE=/opt/Xilinx/14.7/ISE_DS/EDK/gnu/arm/lin/bin/arm-xilinx-linux-gnueabi-modules_install INSTALL_MOD_PATH=&lt;path to linux kernel for zynq&gt;</p>
</li>
</ul>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/compile_Linux_kernel/Install_kernel_modules.png" alt="" width="724" height="427" /></p>
</div>
</div>
</div>
<div class="accordion-group">
<h1 class="accordion-heading"><span class="avatar-char-color" style="font-size: 20px;"><a class="accordion-toggle" href="#collapseFive" data-toggle="collapse" data-parent="#accordion2">5. Cross compile openPOWERLINK 2.x for Linux Zynq</a></span></h1>
<div id="collapseFive" class="accordion-body collapse">
<div class="accordion-inner">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">This section describes the steps to be carried out to cross compile the openPOWERLINK for Linux on Zynq</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Download openPOWERLINK stack from sourceforge (version-2.3.0) - <a title="openPOWERLINK v2.3.0" href="http://sourceforge.net/projects/openpowerlink/files/openPOWERLINK/V2.3.0/openPOWERLINK_V2.3.0.tar.gz/download" target="_blank"><strong>click here</strong></a></p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Extract the folder using following command</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">tar -xvf openPOWERLINK_v2.3.0.tar.gz</p>
</li>
</ul>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To set the Xilinx environment paths, execute the below commands from a terminal</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">cd /opt/Xilinx/14.7/ISE_DS/</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">sudo chmod +x settings32.sh</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">sudo ./settings32.sh /opt/Xilinx/14.7/ISE_DS</p>
</li>
</ul>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Export cross compiler bin path:</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">export PATH=$PATH:/opt/Xilinx/14.7/ISE_DS/EDK/gnu/arm/lin/bin/</p>
</li>
</ul>
</li>
</ul>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"><strong>NOTE:</strong> If separate terminals are used, this steps should be repeated in all the terminal instances.</p>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/To_set_the_environment_path.png" alt="set environment path" width="724" height="224" /></strong></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Open cmake-gui to cross compile openPOWERLINK</p>
</li>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/To_open_cmakegui.png" alt="open CMake gui" width="723" height="80" /></strong></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To compile stack libraries</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the "Where is the source code" to the stack source folder &lt;openPOWERLINK_Directory&gt;/stack</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the "Where to build the binaries" to the stack build folder &lt;openPOWERLINK_Directory&gt;/stack/build/linux</p>
</li>
</ul>
</li>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/Set_stack_source_and_build_path.png" alt="set stack source and build path" width="743" height="432" /></strong></p>
<ul class="the-plus">
<ul class="the-plus">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Click the "Configure" button</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">In Specify the Generator for this project dialog, select "Unix Makefiles" generator and "Specify toolchain file for cross-compiling"</p>
</li>
</ul>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/To_specify_toolchain_file.png" alt="specify the tool chain" width="502" height="389" /></strong></p>
<ul class="the-plus">
<ul class="the-plus">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the "Specify the Toolchain file" to the path, "&lt;openPOWERLINK_Directory&gt;/cmake/toolchain-xilinx-arm-linux-eabi-gnu.cmake"</p>
</li>
</ul>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/Specify_toolchain_path.png" alt="Specify tool chain path" width="502" height="389" /></strong></p>
<ul class="the-plus">
<ul class="the-plus">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Stack should be build in both Release and Debug mode, change build mode using "CMAKE_BUILD_TYPE" parameter and select the “CFG_COMPILE_LIB_MNAPP_KERNELINTF” library</p>
</li>
</ul>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/Set_build_type_and_kernelintf_library.png" alt="set build type and kerneltiff library" width="850" height="600" /></strong></p>
<ul class="the-plus">
<ul class="the-plus">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Click "Configure" to change the settings and click "Generate" to create makefile with changed configuration</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Close cmake</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Change directory to the stack build path - "&lt; openPOWERLINK_Directory&gt;/stack/build/linux"</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Use following commands to compile the stack</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make all</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make install</p>
</li>
</ul>
</ul>
</ul>
</ul>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"><strong>NOTE:</strong> Configure makefile for Debug in cmake-gui and click Generate with changed configuration and compile the stack in build folder with above commands.</p>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/To_compile_and_install_stack_library.png" alt="install stack library" width="723" height="222" /></strong></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To compile kernel module</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the "Where is the source code" to the kernel source folder "&lt;openPOWERLINK_Directory&gt;/drivers/linux/drv_kernelmod_edrv"</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the "Where to build the binaries" to the kernel build folder "&lt;openPOWERLINK_Directory&gt;/drivers/linux/drv_kernelmod_edrv/build"</p>
</li>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/Set_kernel_source_and_build_path.png" alt="Set kernel and build source" width="872" height="414" /></strong></p>
<ul class="the-plus">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Click the "Configure" button</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">In Specify the Generator for this project dialog, select "Unix Makefiles" generator and "Specify toolchain file for cross-compiling"</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the "Specify the Toolchain file" to the path, "&lt;openPOWERLINK_Directory&gt;/cmake/toolchain-xilinx-arm-linux-eabi-gnu.cmake"</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Set "CFG_KERNEL_DIR" to "/&lt;Xilinx_Zynq_directory&gt;/linux-xlnx" and set "CFG_POWERLINK_EDRV" to emacps</p>
</li>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/Set_build_type_driver_and_kernel_directory.png" alt="driver built type and kernel directory" width="874" height="525" /></strong></p>
<ul class="the-plus">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Click "Configure" to change the settings and click "Generate" to create makefile with changed configuration</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Close cmake</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Change directory to kernel driver build path, "&lt;openPOWERLINK_Directory&gt;/drivers/linux/drv_kernelmod_edrv/build"</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Use following commands to compile the driver</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make all</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make install</p>
</li>
</ul>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/To_compile_and_install_kernel_module.png" alt="compile and install kernel module" width="724" height="463" /></strong></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To compile application:</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the "Where is the source code" to the application source folder "&lt;openPOWERLINK_Directory&gt;/apps/demo_mn_console"</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the "Where to build the binaries" to the application linux build folder "&lt;openPOWERLINK_Directory&gt;/apps/demo_mn_console/build/linux"</p>
</li>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/Set_application_source_and_build_path.png" alt="Set application source" width="825" height="389" /></strong></p>
<ul class="the-plus">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Click the "Configure" button</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">In "Specify the Generator for this project dialog", select "Unix Makefiles" generator and "Specify the toolchain file for cross-compiling"</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the “Specify the Toolchain file” to the path, “&lt;openPOWERLINK Directory&gt;/cmake/toolchain-xilinx-arm-linux-eabi-gnu.cmake”</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Set "CFG_BUILD_KERNEL_STACK" to Linux Kernel Module</p>
</li>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/Set_build_type_and_kernel_stack.png" alt="Built type and kernel stack" width="906" height="500" /></strong></p>
<ul class="the-plus">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Click "Configure" to change the settings and click “Generate” to create makefile with changed configuration</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Close cmake</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Change directory to the stack build path, "&lt;openPOWERLINK_Directory&gt;/apps/demo_mn_console/build/linux"</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Use following commands to compile the application</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make all</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make install</p>
</li>
</ul>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_cross_compile/To_compile_and_install_application.png" alt="Compile and install application" width="724" height="319" /></strong></p>
</div>
</div>
</div>
<div class="accordion-group">
<h1 class="accordion-heading"><span class="avatar-char-color" style="font-size: 20px;"><a class="accordion-toggle" href="#collapseSix" data-toggle="collapse" data-parent="#accordion2">6. Compile openPOWERLINK 2.x Linux slave in user-daemon configuration</a></span></h1>
<div id="collapseSix" class="accordion-body collapse">
<div class="accordion-inner">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">This section describes the steps to be carried out to compile the Linux slave in user-daemon configuration.</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To download openPOWERLINK source code <a title="openPOWERLINK Stack" href="http://sourceforge.net/projects/openpowerlink/files/openPOWERLINK/V2.3.0/openPOWERLINK_V2.3.0.tar.gz/download" target="_blank"><strong>click here</strong></a> in the PC to be configured as Linux slave</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Open cmake-gui to cross compile openPOWERLINK</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To compile stack libraries</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the “Where is the source code” to the stack source folder “&lt;openPOWERLINK_Directory&gt;/stack”</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Point the “Where to build the binaries” to the stack build folder “&lt;openPOWERLINK_Directory&gt;/stack/build/linux”</p>
</li>
</ul>
</ul>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-set-stack-source-build-path.jpg" alt="" width="701" height="438" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Click the “Configure” button</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">In “Specify the Generator for this project” dialog, select "Unix Makefiles" generator</p>
</li>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-specify-tool-chain.jpg" alt="" width="500" height="381" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Stack should be built in both Release and Debug mode, change build mode using “CMAKE_BUILD_TYPE” parameter and select the “CFG_COMPILE_LIB_CNAPP_USERINTF”and “CFG_COMPILE_LIB_CNDRV_PCAP”</p>
</li>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-set-build-type.jpg" alt="" width="906" height="541" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Click “Configure” to change the settings and click “Generate” to create makefile with changed configuration</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Close cmake</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Change directory to the stack build path, “&lt;openPOWERLINK_Directory&gt;/stack/build/linux”</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Use following commands to compile the stack</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make all</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">make install</p>
</li>
</ul>
</ul>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"><strong>NOTE:</strong> Configure makefile for Debug in cmake-gui and click Generate with changed configuration and compile the stack in build folder with above commands.</p>
<p style="font-size: 14px; color: #000000; font-family: Arial;"><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-compile-install.jpg" alt="" width="724" height="280" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">To compile Linux driver daemon for slave:</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Point the “Where is the source code” to the driver daemon source folder “&lt;openPOWERLINK_Directory&gt;/drivers/linux/drv_daemon_pcap”</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Point the “Where to build the binaries” to the driver daemon build folder “&lt;openPOWERLINK_Directory&gt;/drivers/linux/drv_daemon_pcap/build"</p>
</li>
</ul>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-set-driver-source.jpg" alt="" width="906" height="418" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Click the “Configure” button</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">In “Specify the Generator for this project” dialog, select "Unix Makefiles" generator</p>
</li>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-set-build-type-release.jpg" alt="" width="906" height="451" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Click “Configure” to change the settings and click “Generate” to create makefile with changed configuration</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Close cmake</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Change directory to the driver daemon build path, “&lt;openPOWERLINK_Directory&gt;/drivers/linux/drv_daemon_pcap/build”</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Use following commands to compile the driver daemon</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">make all</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">make install</p>
</li>
</ul>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-compile-install-driver.jpg" alt="" width="724" height="356" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">To compile application:</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Point the “Where is the source code” to the slave application source folder “&lt;openPOWERLINK_Directory&gt;/apps/demo_cn_console"</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Point the “Where to build the binaries” to the slave application linux build folder “&lt;openPOWERLINK_Directory&gt;/apps/demo_cn_console/build/linux"</p>
</li>
</ul>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-set-app-src.jpg" alt="" width="906" height="419" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Click the “Configure” button</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">In “Specify the Generator for this project” dialog, select "Unix Makefiles" generator</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Set "CFG_BUILD_KERNEL_STACK” to “Linux Userspace Daemon”</p>
</li>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-set-build-kernel-type.jpg" alt="" width="906" height="413" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Click “Configure” to change the settings and click “Generate” to create makefile with changed configuration</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Close cmake</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Change directory to the application build path, “&lt;openPOWERLINK_Directory&gt;/apps/demo_cn_console/build/linux”</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Use following commands to compile the application</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">make all</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">make install</p>
</li>
</ul>
</ul>
</li>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-compile-install-app.jpg" alt="" width="721" height="518" /></p>
<p style="font-size: 14px; color: #000000; font-family: Arial;"><strong>Note:</strong> The above compilation steps should be followed to compile slave on another Linux PC. Few changes which are required before compiling slave 2 (CN32):</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Download openPOWERLINK stack from sourceforge on the second Linux slave PC (version-2.3.0) - <a title="openPOWERLINK v2.3.0" href="http://sourceforge.net/projects/openpowerlink/files/openPOWERLINK/V2.3.0/openPOWERLINK_V2.3.0.tar.gz/download" target="_blank"><strong>click here</strong></a></p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Change to the slave application source directory and open main.c, “&lt;openPOWERLINK_Directory&gt;/apps/demo_cn_console/src/main.c”</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Change “#define NODEID 1” to “#define NODEID 32” and save</p>
</li>
</ul>
<p><img style="display: block; margin-left: auto; margin-right: auto;" src="../../images/oplk_zynq/Linux_slave/S6-set-node-id.jpg" alt="" width="584" height="168" /></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial;">Repeat the steps to compile the second slave</p>
</li>
</ul>
</div>
</div>
</div>
<div class="accordion-group">
<h1 class="accordion-heading"><span class="avatar-char-color" style="font-size: 20px;"><a class="accordion-toggle" href="#collapseSeven" data-toggle="collapse" data-parent="#accordion2">7. Run openPOWERLINK master demo application on Zynq ZC702</a></span></h1>
<div id="collapseSeven" class="accordion-body collapse">
<div class="accordion-inner">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">This section describes the steps to be carried out to run openPOWERLINK Linux demo on Zynq ZC702 development board.</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To convert the SD card as bootable medium for Zynq - <a title="Convert SD card as bootable medium" href="http://www.wiki.xilinx.com/Prepare+Boot+Medium" target="_blank"><strong>click here</strong></a></p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To download the 14.7 pre-built binaries (Assuming cross compilation for the Linux is done using Xilinx ISE 14.7 toolchain) <a title="Xilinx ISE pre-built binaries" href="http://www.wiki.xilinx.com/Zynq+14.7-2013.3+Release" target="_blank"><strong>click here</strong></a></p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Extract and copy the following contents from the downloaded folder into the boot partition of SD card</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">uramdisk.image.gz</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">u-boot.elf</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">fsbl.elf</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">devicetree.dtb</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">boot.bin</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">openPOWERLINK binaries (driver and application) from &lt;openPOWERLINK_Directory&gt;/bin</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">demo_mn_console</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">oplkdrv_kernelmodule_edrv</p>
</li>
</ul>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">uImage (Replace the existing uImage with the cross compiled uImage from path: &lt;Xilinx_zynq_directory&gt;/linux-xlnx/arch/arm/boot).</p>
</li>
</ul>
</ul>
</ul>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"><strong>Note:</strong> This is only to quickly boot the Linux binaries. The user is free to create their own bootable binaries for Zynq. Please refer <a title="Detailed steps" href="http://www.wiki.xilinx.com/Zynq+linux" target="_blank"><span style="text-decoration: underline;">http://www.wiki.xilinx.com/Zynq+linu</span>x</a> for detailed steps.</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">To run the openPOWERLINK MN demo application</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Insert the SD card into the Zynq ZC702 board and power up the board</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Install minicom (sudo apt-get install minicom) on the development PC</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">From the PC terminal run minicom (sudo minicom -s)</p>
</li>
</ul>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_demo_app/Open_minicom.png" alt="Open minicom" width="721" height="83" /></strong></p>
<ul class="the-plus">
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Go to Serial port setup</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Change the Serial Device as per the USB name (/dev/ttyUSB0)</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Keep the hardware flow control settings to "NO"</p>
</li>
</ul>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Save setup as dfl and exit</p>
</li>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_demo_app/minicom_configuration.png" alt="Minicom configuration" width="724" height="308" /></strong></p>
<p style="text-align: center;"> </p>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_demo_app/Set_serial_device_and_hardware_flow_control.png" alt="" width="724" height="414" /></strong></p>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_demo_app/Save_setup_as_dfl_and_exit.png" alt="save and exit" width="724" height="348" /></strong></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Once autoboot finishes, enter the zynq login and password as "root"</p>
</li>
</ul>
<p style="text-align: center;"><strong><img src="../../images/oplk_zynq/oplk_demo_app/Login_credentials_Petalinux.png" alt="Login credentials Petalinux" width="724" height="463" /></strong></p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">mount the sd card using the following command</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"># mount /dev/mmcblk0p1 /mnt/card</p>
</li>
</ul>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Change to the kernel driver directory</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"># cd /mnt/card/oplkdrv_kernelmodule_edrv</p>
</li>
</ul>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Insert kernel driver using the following command</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"># insmod oplkemacpsmn.ko</p>
</li>
</ul>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Change to the demo_mn_console application directory</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"># cd /mnt/card/demo_mn_console</p>
</li>
</ul>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Run the application</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;"># ./demo_mn_console -c /mnt/card/demo_mn_console/mnobd.cdc</p>
</li>
</ul>
</ul>
</div>
</div>
</div>
<div class="accordion-group">
<h1 class="accordion-heading"><span class="avatar-char-color" style="font-size: 20px;"><a class="accordion-toggle" href="#collapseEight" data-toggle="collapse" data-parent="#accordion2">8. Run openPOWERLINK slave demo application on Linux PC</a></span></h1>
<div id="collapseEight" class="accordion-body collapse">
<div class="accordion-inner">
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">This section describes the steps to be carried out to run openPOWERLINK Linux CN demo</p>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Open a new terminal on the Linux PC to run openPOWERLINK slave:</p>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Change to the driver daemon install directory on slave PC</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">cd &lt;openPOWERLINK_Directory&gt;/bin/linux/i686/oplkd-pcap/</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Run the PCAP driver daemon using the following command</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">sudo ./oplkcnd-pcap</p>
</li>
</ul>
</ul>
</ul>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Open another terminal:</p>
<ul class="the-plus">
<li style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Change to the slave application install directory on slave PC
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">cd &lt;openPOWERLINK_Directory&gt;/bin/linux/i686/demo_cn_console</p>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Run the slave application using following command</p>
</li>
<ul class="the-plus">
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">sudo ./demo_cn_console</p>
</li>
</ul>
</ul>
</li>
<li>
<p style="font-size: 14px; color: #000000; font-family: Arial; text-align: justify;">Repeat the openPOWERLINK slave demo application steps on the slave 2 (CN32) Linux PC</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<p><a title="openPOWERLINK on Zynq Linux Master" href="../qsg-to-run-openpowerlink-on-zynq-linux-master.html"><img src="../../images/goback.png" alt="" /></a><br /><br /></p>	</div>

	
						 </div>

																	</div>	
														
														
													
													
														</div>
						</div>
						
												<div class="clearbreak"></div>
					</div>
				</div>
								<div class="clearbreak"></div>
				</div>
				</div>
			</div>
																						<div id="avatar-footer-inside-block">
					<div class="avatar-wrapper block-default-width">
										
											<div id="avatar-pos-footer-left">
									<div class="avatar-module no-padding-margin-side">
					<div class="avatar-module-content">
				

<ul class="menu clearfix avatar-footer-nav">
<li class="item-101"><a href="../../index.html" >Home</a></li><li class="avatar-menu-before item-106"><a href="../about-us.html" >About us</a></li><li class="avatar-menu-before item-107"><a href="../services.html" >Services</a></li><li class="avatar-menu-before item-108"><a href="../solution.html" >Solutions</a></li><li class="avatar-menu-before item-110"><a href="../resources.html" >Resources</a></li><li class="avatar-menu-before item-113"><a href="../career.html" >Careers</a></li><li class="avatar-menu-before item-114"><a href="../contact.html" >Contact</a></li></ul><div style="clear:both;"></div>
			</div>
		</div>
	
						</div>
										
										
											<div id="avatar-pos-footer-right">
									<div class="avatar-module no-padding-marging">
					<div class="avatar-module-content">
				
<div class="at-social-links">

<div class="at-social-enews-effect-1">
<ul class="at-social-list">

	<li class="at-social-item" style="height: 45px;width: 45px;">
		<a href="https://www.linkedin.com/company/kalycito" target="_blank"><div style="height: 35px;width: 35px;background-image: url('../../images/at_social_icons/Linkedin1.png')"></div></a>
	</li>	

	<li class="at-social-item" style="height: 45px;width: 45px;">
		<a href="https://www.facebook.com/Kalycito" target="_blank"><div style="height: 35px;width: 35px;background-image: url('../../images/at_social_icons/Facebook1.png')"></div></a>
	</li>	

	<li class="at-social-item" style="height: 45px;width: 45px;">
		<a href="https://www.youtube.com/channel/UCyXtHWnWskJWVbNJQJWKLLw" target="_blank"><div style="height: 35px;width: 35px;background-image: url('../../images/at_social_icons/Youtube1.png')"></div></a>
	</li>	

<li class="clearbreak"></li>
</ul>
</div>
</div>			</div>
		</div>
	
						</div>
										<div class="clearbreak"></div>
					</div>
				</div>
						
						
									
		</div>
		<div id="avatar-debug">
			
		</div>
	</body>

<!-- Mirrored from www.kalycito.com/index.php/qsg-to-run-openpowerlink-on-zynq-linux-master/169-detailed-steps-to-run-openpowerlink-on-zynq-linux-master by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 14 Jun 2017 05:26:26 GMT -->
</html>
